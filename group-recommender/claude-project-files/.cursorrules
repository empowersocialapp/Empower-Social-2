# Group Recommender System

A recommendation system that matches users with local social groups based on:
- Personality traits (Big Five: Extraversion, Conscientiousness, Openness)
- Interests (using semantic embeddings)
- Social needs (loneliness, friend count, satisfaction)
- Motivations (Intrinsic, Social, Achievement)

## Key Features

- **Two-stage recommendation**: Embedding retrieval + personality ranking
- **Learning system**: Adjusts weights based on A/B test feedback
- **Test mode**: User profile management and A/B testing interface
- **Modular city support**: Easy to switch between cities (SF, Denver, DC, etc.)

## Architecture

- **Backend**: FastAPI with SQLite database
- **Embeddings**: Sentence-transformers (all-MiniLM-L6-v2) for semantic matching
- **Learning System**: Analyzes user A/B test feedback to adjust recommendation weights
- **Scoring Weights** (default):
  - Personality: 40%
  - Interest (embeddings): 35%
  - Social Needs: 15%
  - Motivations: 10%

## Learning System

The system learns from user feedback:
- Users see A/B test pairs of recommendations
- They select a preference and optionally provide reasons
- The learning system adjusts weights based on reason patterns
- Example: If user frequently selects "better_interest_match", interest weight increases

## Important Files

- `backend/recommendation/engine.py` - Main recommendation engine
- `backend/recommendation/learning.py` - Learning system that adjusts weights
- `backend/api/test_routes.py` - Test mode API (user profiles, A/B testing)
- `frontend/test/recommendations.html` - A/B testing interface
- `backend/infrastructure/database.py` - Database models (User, Group, ABTestResult)

## Test Mode

- User profile page: `/test/profile.html` - Manage user profile and survey
- A/B testing page: `/test/recommendations.html` - Compare recommendations and provide feedback
- API endpoints: `/api/test/*` - All test mode endpoints
